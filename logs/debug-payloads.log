[2025-11-06 19:44:03.009] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.033] INFO: ðŸ”„ Applying OhMyApp.io support migration...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.097] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.155] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN customer_address TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.169] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN payment_amount REAL DEFAULT 0...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.176] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN source TEXT DEFAULT 'api'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.181] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_metadata TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.219] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN original_order_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.249] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_created_at TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.270] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_items ADD COLUMN category TEXT DEFAULT 'General'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.306] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN modifier_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.308] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN quantity INTEGER DEFAULT 1...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.319] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source ON orders(source)...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.323] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_original_order_id ON orders(original_order...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.325] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source_created ON orders(source, created_a...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.354] INFO: ðŸ“‹ Final orders table structure:
{
  "0": {
    "cid": 0,
    "name": "id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "lower(hex(randomblob(16)))",
    "pk": 1
  },
  "1": {
    "cid": 1,
    "name": "order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "2": {
    "cid": 2,
    "name": "external_order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "3": {
    "cid": 3,
    "name": "restaurant_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "4": {
    "cid": 4,
    "name": "idempotency_key",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "5": {
    "cid": 5,
    "name": "customer_name",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "6": {
    "cid": 6,
    "name": "customer_phone",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "7": {
    "cid": 7,
    "name": "customer_email",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "8": {
    "cid": 8,
    "name": "order_type",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "9": {
    "cid": 9,
    "name": "order_time",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "10": {
    "cid": 10,
    "name": "requested_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "11": {
    "cid": 11,
    "name": "subtotal",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "12": {
    "cid": 12,
    "name": "tax",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "13": {
    "cid": 13,
    "name": "tip",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "14": {
    "cid": 14,
    "name": "discount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "15": {
    "cid": 15,
    "name": "delivery_fee",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "16": {
    "cid": 16,
    "name": "total",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "17": {
    "cid": 17,
    "name": "payment_method",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "18": {
    "cid": 18,
    "name": "payment_status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'pending'",
    "pk": 0
  },
  "19": {
    "cid": 19,
    "name": "payment_transaction_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "20": {
    "cid": 20,
    "name": "status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'received'",
    "pk": 0
  },
  "21": {
    "cid": 21,
    "name": "estimated_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "22": {
    "cid": 22,
    "name": "cancellation_reason",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "23": {
    "cid": 23,
    "name": "notes",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "24": {
    "cid": 24,
    "name": "created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "25": {
    "cid": 25,
    "name": "updated_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "26": {
    "cid": 26,
    "name": "customer_address",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "27": {
    "cid": 27,
    "name": "payment_amount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "28": {
    "cid": 28,
    "name": "source",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'api'",
    "pk": 0
  },
  "29": {
    "cid": 29,
    "name": "webhook_metadata",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "30": {
    "cid": 30,
    "name": "original_order_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "31": {
    "cid": 31,
    "name": "webhook_created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.377] INFO: ðŸŽ‰ OhMyApp.io migration completed successfully!
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.382] INFO: ðŸ§ª Testing new database structure...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.391] INFO: âœ… All new order columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.395] INFO: âœ… order_items.category column is present
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.404] INFO: âœ… All new order_item_modifiers columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.406] INFO: ðŸŽ¯ Database structure test completed!
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.410] INFO: âœ… Database migration completed
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.429] INFO: ðŸš€ Order Gateway API started on port 3000
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.449] INFO: ðŸ“– API Index: http://localhost:3000/api
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.476] INFO: ðŸ’“ Health Check: http://localhost:3000/health
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.486] INFO: ðŸŒ Environment: development
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:03.502] INFO: ðŸŽ£ OhMyApp.io webhook support: ENABLED
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:04.291] INFO: Closing SQLite database...
{
  "service": "pos-order-gateway-api"
}
[2025-11-06 19:44:04.385] INFO: SIGINT received, shutting down gracefully
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.690] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.729] INFO: ðŸ”„ Applying OhMyApp.io support migration...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.745] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.785] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN customer_address TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.795] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN payment_amount REAL DEFAULT 0...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.841] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN source TEXT DEFAULT 'api'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.875] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_metadata TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.924] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN original_order_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.934] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_created_at TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.977] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_items ADD COLUMN category TEXT DEFAULT 'General'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.985] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN modifier_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:28.991] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN quantity INTEGER DEFAULT 1...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.025] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source ON orders(source)...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.060] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_original_order_id ON orders(original_order...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.098] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source_created ON orders(source, created_a...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.107] INFO: ðŸ“‹ Final orders table structure:
{
  "0": {
    "cid": 0,
    "name": "id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "lower(hex(randomblob(16)))",
    "pk": 1
  },
  "1": {
    "cid": 1,
    "name": "order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "2": {
    "cid": 2,
    "name": "external_order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "3": {
    "cid": 3,
    "name": "restaurant_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "4": {
    "cid": 4,
    "name": "idempotency_key",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "5": {
    "cid": 5,
    "name": "customer_name",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "6": {
    "cid": 6,
    "name": "customer_phone",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "7": {
    "cid": 7,
    "name": "customer_email",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "8": {
    "cid": 8,
    "name": "order_type",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "9": {
    "cid": 9,
    "name": "order_time",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "10": {
    "cid": 10,
    "name": "requested_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "11": {
    "cid": 11,
    "name": "subtotal",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "12": {
    "cid": 12,
    "name": "tax",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "13": {
    "cid": 13,
    "name": "tip",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "14": {
    "cid": 14,
    "name": "discount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "15": {
    "cid": 15,
    "name": "delivery_fee",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "16": {
    "cid": 16,
    "name": "total",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "17": {
    "cid": 17,
    "name": "payment_method",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "18": {
    "cid": 18,
    "name": "payment_status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'pending'",
    "pk": 0
  },
  "19": {
    "cid": 19,
    "name": "payment_transaction_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "20": {
    "cid": 20,
    "name": "status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'received'",
    "pk": 0
  },
  "21": {
    "cid": 21,
    "name": "estimated_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "22": {
    "cid": 22,
    "name": "cancellation_reason",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "23": {
    "cid": 23,
    "name": "notes",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "24": {
    "cid": 24,
    "name": "created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "25": {
    "cid": 25,
    "name": "updated_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "26": {
    "cid": 26,
    "name": "customer_address",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "27": {
    "cid": 27,
    "name": "payment_amount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "28": {
    "cid": 28,
    "name": "source",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'api'",
    "pk": 0
  },
  "29": {
    "cid": 29,
    "name": "webhook_metadata",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "30": {
    "cid": 30,
    "name": "original_order_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "31": {
    "cid": 31,
    "name": "webhook_created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.124] INFO: ðŸŽ‰ OhMyApp.io migration completed successfully!
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.135] INFO: ðŸ§ª Testing new database structure...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.137] INFO: âœ… All new order columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.193] INFO: âœ… order_items.category column is present
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.199] INFO: âœ… All new order_item_modifiers columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.227] INFO: ðŸŽ¯ Database structure test completed!
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.241] INFO: âœ… Database migration completed
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.283] INFO: ðŸš€ Order Gateway API started on port 3000
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.310] INFO: ðŸ“– API Index: http://localhost:3000/api
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.328] INFO: ðŸ’“ Health Check: http://localhost:3000/health
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.334] INFO: ðŸŒ Environment: development
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:40:29.335] INFO: ðŸŽ£ OhMyApp.io webhook support: ENABLED
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:44:33.671] INFO: Closing SQLite database...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 19:44:33.680] INFO: SIGINT received, shutting down gracefully
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.816] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.841] INFO: ðŸ”„ Applying OhMyApp.io support migration...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.852] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.873] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN customer_address TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.875] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN payment_amount REAL DEFAULT 0...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.876] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN source TEXT DEFAULT 'api'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.878] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_metadata TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.879] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN original_order_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.880] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_created_at TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.881] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_items ADD COLUMN category TEXT DEFAULT 'General'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.882] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN modifier_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.883] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN quantity INTEGER DEFAULT 1...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.884] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source ON orders(source)...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.887] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_original_order_id ON orders(original_order...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.890] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source_created ON orders(source, created_a...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.894] INFO: ðŸ“‹ Final orders table structure:
{
  "0": {
    "cid": 0,
    "name": "id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "lower(hex(randomblob(16)))",
    "pk": 1
  },
  "1": {
    "cid": 1,
    "name": "order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "2": {
    "cid": 2,
    "name": "external_order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "3": {
    "cid": 3,
    "name": "restaurant_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "4": {
    "cid": 4,
    "name": "idempotency_key",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "5": {
    "cid": 5,
    "name": "customer_name",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "6": {
    "cid": 6,
    "name": "customer_phone",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "7": {
    "cid": 7,
    "name": "customer_email",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "8": {
    "cid": 8,
    "name": "order_type",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "9": {
    "cid": 9,
    "name": "order_time",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "10": {
    "cid": 10,
    "name": "requested_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "11": {
    "cid": 11,
    "name": "subtotal",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "12": {
    "cid": 12,
    "name": "tax",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "13": {
    "cid": 13,
    "name": "tip",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "14": {
    "cid": 14,
    "name": "discount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "15": {
    "cid": 15,
    "name": "delivery_fee",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "16": {
    "cid": 16,
    "name": "total",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "17": {
    "cid": 17,
    "name": "payment_method",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "18": {
    "cid": 18,
    "name": "payment_status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'pending'",
    "pk": 0
  },
  "19": {
    "cid": 19,
    "name": "payment_transaction_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "20": {
    "cid": 20,
    "name": "status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'received'",
    "pk": 0
  },
  "21": {
    "cid": 21,
    "name": "estimated_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "22": {
    "cid": 22,
    "name": "cancellation_reason",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "23": {
    "cid": 23,
    "name": "notes",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "24": {
    "cid": 24,
    "name": "created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "25": {
    "cid": 25,
    "name": "updated_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "26": {
    "cid": 26,
    "name": "customer_address",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "27": {
    "cid": 27,
    "name": "payment_amount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "28": {
    "cid": 28,
    "name": "source",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'api'",
    "pk": 0
  },
  "29": {
    "cid": 29,
    "name": "webhook_metadata",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "30": {
    "cid": 30,
    "name": "original_order_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "31": {
    "cid": 31,
    "name": "webhook_created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.899] INFO: ðŸŽ‰ OhMyApp.io migration completed successfully!
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.900] INFO: ðŸ§ª Testing new database structure...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.901] INFO: âœ… All new order columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.902] INFO: âœ… order_items.category column is present
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.907] INFO: âœ… All new order_item_modifiers columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.907] INFO: ðŸŽ¯ Database structure test completed!
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.909] INFO: âœ… Database migration completed
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.968] INFO: ðŸš€ Order Gateway API started on port 3000
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.968] INFO: ðŸ“– API Index: http://localhost:3000/api
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.969] INFO: ðŸ’“ Health Check: http://localhost:3000/health
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.969] INFO: ðŸŒ Environment: development
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:43.969] INFO: ðŸŽ£ OhMyApp.io webhook support: ENABLED
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:47.409] INFO: Closing SQLite database...
{
  "service": "pos-order-gateway-api"
}
[2025-11-07 20:23:47.411] INFO: SIGINT received, shutting down gracefully
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.072] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.085] INFO: ðŸ”„ Applying OhMyApp.io support migration...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.096] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.113] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN customer_address TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.114] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN payment_amount REAL DEFAULT 0...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.115] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN source TEXT DEFAULT 'api'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.116] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_metadata TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.117] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN original_order_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.120] INFO: âš ï¸ Skipped (already exists): ALTER TABLE orders ADD COLUMN webhook_created_at TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.121] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_items ADD COLUMN category TEXT DEFAULT 'General'...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.122] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN modifier_id TEXT...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.123] INFO: âš ï¸ Skipped (already exists): ALTER TABLE order_item_modifiers ADD COLUMN quantity INTEGER DEFAULT 1...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.125] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source ON orders(source)...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.126] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_original_order_id ON orders(original_order...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.127] INFO: âœ… Applied: CREATE INDEX IF NOT EXISTS idx_orders_source_created ON orders(source, created_a...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.130] INFO: ðŸ“‹ Final orders table structure:
{
  "0": {
    "cid": 0,
    "name": "id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "lower(hex(randomblob(16)))",
    "pk": 1
  },
  "1": {
    "cid": 1,
    "name": "order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "2": {
    "cid": 2,
    "name": "external_order_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "3": {
    "cid": 3,
    "name": "restaurant_id",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "4": {
    "cid": 4,
    "name": "idempotency_key",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "5": {
    "cid": 5,
    "name": "customer_name",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "6": {
    "cid": 6,
    "name": "customer_phone",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "7": {
    "cid": 7,
    "name": "customer_email",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "8": {
    "cid": 8,
    "name": "order_type",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "9": {
    "cid": 9,
    "name": "order_time",
    "type": "TEXT",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "10": {
    "cid": 10,
    "name": "requested_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "11": {
    "cid": 11,
    "name": "subtotal",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "12": {
    "cid": 12,
    "name": "tax",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "13": {
    "cid": 13,
    "name": "tip",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "14": {
    "cid": 14,
    "name": "discount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "15": {
    "cid": 15,
    "name": "delivery_fee",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "16": {
    "cid": 16,
    "name": "total",
    "type": "REAL",
    "notnull": 1,
    "dflt_value": null,
    "pk": 0
  },
  "17": {
    "cid": 17,
    "name": "payment_method",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "18": {
    "cid": 18,
    "name": "payment_status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'pending'",
    "pk": 0
  },
  "19": {
    "cid": 19,
    "name": "payment_transaction_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "20": {
    "cid": 20,
    "name": "status",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'received'",
    "pk": 0
  },
  "21": {
    "cid": 21,
    "name": "estimated_time",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "22": {
    "cid": 22,
    "name": "cancellation_reason",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "23": {
    "cid": 23,
    "name": "notes",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "24": {
    "cid": 24,
    "name": "created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "25": {
    "cid": 25,
    "name": "updated_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "datetime('now')",
    "pk": 0
  },
  "26": {
    "cid": 26,
    "name": "customer_address",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "27": {
    "cid": 27,
    "name": "payment_amount",
    "type": "REAL",
    "notnull": 0,
    "dflt_value": "0",
    "pk": 0
  },
  "28": {
    "cid": 28,
    "name": "source",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": "'api'",
    "pk": 0
  },
  "29": {
    "cid": 29,
    "name": "webhook_metadata",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "30": {
    "cid": 30,
    "name": "original_order_id",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "31": {
    "cid": 31,
    "name": "webhook_created_at",
    "type": "TEXT",
    "notnull": 0,
    "dflt_value": null,
    "pk": 0
  },
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.132] INFO: ðŸŽ‰ OhMyApp.io migration completed successfully!
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.133] INFO: ðŸ§ª Testing new database structure...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.136] INFO: âœ… All new order columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.137] INFO: âœ… order_items.category column is present
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.139] INFO: âœ… All new order_item_modifiers columns are present
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.139] INFO: ðŸŽ¯ Database structure test completed!
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.140] INFO: âœ… Database migration completed
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.150] INFO: ðŸš€ Order Gateway API started on port 3000
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.150] INFO: ðŸ“– API Index: http://localhost:3000/api
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.151] INFO: ðŸ’“ Health Check: http://localhost:3000/health
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.154] INFO: ðŸŒ Environment: development
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:26.155] INFO: ðŸŽ£ OhMyApp.io webhook support: ENABLED
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:50.681] INFO: Closing SQLite database...
{
  "service": "pos-order-gateway-api"
}
[2025-11-10 21:52:50.683] INFO: SIGINT received, shutting down gracefully
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:19:54.393] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:19:54.396] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:19:54.524] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:19:54.570] INFO: POST /api/v1/orders
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:19:54.574] WARN: Authentication failed: Invalid API key
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "path": "/",
  "apiKeyPrefix": "test-key..."
}
[2025-11-11 05:19:54.504] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:19:54.574] INFO: POST /api/v1/payloads
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:19:54.578] INFO: Authentication successful
{
  "service": "pos-order-gateway-api",
  "client": "Admin Dashboard",
  "ip": "::ffff:127.0.0.1",
  "path": "/"
}
[2025-11-11 05:19:54.584] DEBUG: ðŸ“¨ REQUEST DEBUG - Save Payload
{
  "service": "pos-order-gateway-api",
  "method": "POST",
  "url": "/",
  "headers": {
    "host": "127.0.0.1:52416",
    "accept-encoding": "gzip, deflate",
    "x-api-key": "[SANITIZED]",
    "content-type": "application/json",
    "content-length": "116",
    "connection": "close"
  },
  "query": {},
  "params": {},
  "bodySize": 116,
  "bodyType": "object",
  "ip": "::ffff:127.0.0.1"
}
[2025-11-11 05:19:54.584] DEBUG: ðŸ” PAYLOAD DEBUG - Save Payload - Body
{
  "service": "pos-order-gateway-api",
  "payloadSize": 148,
  "payloadType": "object",
  "isArray": false,
  "keys": [
    "key",
    "description",
    "source",
    "payload"
  ],
  "payload": "{\n  \"key\": \"jest_sample_1762838394451\",\n  \"description\": \"Jest test payload\",\n  \"source\": \"jest\",\n  \"payload\": {\n    \"foo\": \"bar\",\n    \"n\": 42\n  }\n}"
}
[2025-11-11 05:19:54.585] DEBUG: ðŸ—„ï¸ DATABASE DEBUG - Save Payload
{
  "service": "pos-order-gateway-api",
  "query": "INSERT INTO saved_payloads (payload_key, description, source, payload, created_at, updated_at) VALUES (?, ?, ?, ?, datetime('now'), datetime('now')) ON CONFLICT(payload_key) DO UPDATE SET description = COALESCE(excluded.description, saved_payloads.description), source = COALESCE(excluded.source, saved_payloads.source), payload = excluded.payload, updated_at = datetime('now') ;",
  "parameterCount": 4,
  "parameters": [
    {
      "index": 0,
      "type": "string",
      "value": "jest_sample_1762838394451"
    },
    {
      "index": 1,
      "type": "string",
      "value": "Jest test payload"
    },
    {
      "index": 2,
      "type": "string",
      "value": "jest"
    },
    {
      "index": 3,
      "type": "string",
      "value": "{\"foo\":\"bar\",\"n\":42}"
    }
  ],
  "resultInfo": null
}
[2025-11-11 05:19:54.588] ERROR: Failed to save payload: SQLITE_ERROR: no such table: saved_payloads
{
  "service": "pos-order-gateway-api",
  "errno": 1,
  "code": "SQLITE_ERROR",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads"
}
[2025-11-11 05:19:54.591] ERROR: API Error:
{
  "service": "pos-order-gateway-api",
  "error": "SQLITE_ERROR: no such table: saved_payloads",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads",
  "path": "/api/v1/payloads",
  "method": "POST",
  "ip": "::ffff:127.0.0.1",
  "body": {
    "key": "jest_sample_1762838394451",
    "description": "Jest test payload",
    "source": "jest",
    "payload": {
      "foo": "bar",
      "n": 42
    }
  }
}
[2025-11-11 05:19:54.603] INFO: POST /api/v1/orders
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:19:54.604] WARN: Authentication failed: Invalid API key
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "path": "/",
  "apiKeyPrefix": "test-key..."
}
[2025-11-11 05:19:54.616] INFO: GET /api/v1/payloads/jest_sample_1762838394451
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:19:54.618] INFO: Authentication successful
{
  "service": "pos-order-gateway-api",
  "client": "Admin Dashboard",
  "ip": "::ffff:127.0.0.1",
  "path": "/jest_sample_1762838394451"
}
[2025-11-11 05:19:54.648] ERROR: Failed to load payload: SQLITE_ERROR: no such table: saved_payloads
{
  "service": "pos-order-gateway-api",
  "errno": 1,
  "code": "SQLITE_ERROR",
  "__augmented": true,
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT id, payload_key, description, source, payload, created_at, updated_at FROM saved_payloads WHERE payload_key = ?', [ 'jest_sample_1762838394451' ], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as getByKeyOrId] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:41:35)\n    at PayloadController.getByKeyOrId (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:33:43)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5"
}
[2025-11-11 05:19:54.650] ERROR: API Error:
{
  "service": "pos-order-gateway-api",
  "error": "SQLITE_ERROR: no such table: saved_payloads",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT id, payload_key, description, source, payload, created_at, updated_at FROM saved_payloads WHERE payload_key = ?', [ 'jest_sample_1762838394451' ], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as getByKeyOrId] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:41:35)\n    at PayloadController.getByKeyOrId (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:33:43)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5",
  "path": "/api/v1/payloads/jest_sample_1762838394451",
  "method": "GET",
  "ip": "::ffff:127.0.0.1",
  "body": {}
}
[2025-11-11 05:19:54.665] INFO: GET /api/v1/payloads
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:19:54.667] INFO: Authentication successful
{
  "service": "pos-order-gateway-api",
  "client": "Admin Dashboard",
  "ip": "::ffff:127.0.0.1",
  "path": "/"
}
[2025-11-11 05:19:54.675] ERROR: Failed to list payloads: SQLITE_ERROR: no such table: saved_payloads
{
  "service": "pos-order-gateway-api",
  "errno": 1,
  "code": "SQLITE_ERROR",
  "__augmented": true,
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT COUNT(*) as total FROM saved_payloads ', [], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as list] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:76:34)\n    at PayloadController.list (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:48:41)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5"
}
[2025-11-11 05:19:54.675] ERROR: API Error:
{
  "service": "pos-order-gateway-api",
  "error": "SQLITE_ERROR: no such table: saved_payloads",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT COUNT(*) as total FROM saved_payloads ', [], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as list] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:76:34)\n    at PayloadController.list (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:48:41)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5",
  "path": "/api/v1/payloads",
  "method": "GET",
  "ip": "::ffff:127.0.0.1",
  "body": {}
}
[2025-11-11 05:53:02.924] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:53:02.924] INFO: ðŸ”’ Proxy trust enabled for production deployment
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:53:02.996] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:53:03.040] INFO: POST /api/v1/payloads
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:53:03.045] INFO: Authentication successful
{
  "service": "pos-order-gateway-api",
  "client": "Admin Dashboard",
  "ip": "::ffff:127.0.0.1",
  "path": "/"
}
[2025-11-11 05:53:03.049] DEBUG: ðŸ“¨ REQUEST DEBUG - Save Payload
{
  "service": "pos-order-gateway-api",
  "method": "POST",
  "url": "/",
  "headers": {
    "host": "127.0.0.1:53879",
    "accept-encoding": "gzip, deflate",
    "x-api-key": "[SANITIZED]",
    "content-type": "application/json",
    "content-length": "116",
    "connection": "close"
  },
  "query": {},
  "params": {},
  "bodySize": 116,
  "bodyType": "object",
  "ip": "::ffff:127.0.0.1"
}
[2025-11-11 05:53:03.049] DEBUG: ðŸ” PAYLOAD DEBUG - Save Payload - Body
{
  "service": "pos-order-gateway-api",
  "payloadSize": 148,
  "payloadType": "object",
  "isArray": false,
  "keys": [
    "key",
    "description",
    "source",
    "payload"
  ],
  "payload": "{\n  \"key\": \"jest_sample_1762840382962\",\n  \"description\": \"Jest test payload\",\n  \"source\": \"jest\",\n  \"payload\": {\n    \"foo\": \"bar\",\n    \"n\": 42\n  }\n}"
}
[2025-11-11 05:53:03.050] DEBUG: ðŸ—„ï¸ DATABASE DEBUG - Save Payload
{
  "service": "pos-order-gateway-api",
  "query": "INSERT INTO saved_payloads (payload_key, description, source, payload, created_at, updated_at) VALUES (?, ?, ?, ?, datetime('now'), datetime('now')) ON CONFLICT(payload_key) DO UPDATE SET description = COALESCE(excluded.description, saved_payloads.description), source = COALESCE(excluded.source, saved_payloads.source), payload = excluded.payload, updated_at = datetime('now') ;",
  "parameterCount": 4,
  "parameters": [
    {
      "index": 0,
      "type": "string",
      "value": "jest_sample_1762840382962"
    },
    {
      "index": 1,
      "type": "string",
      "value": "Jest test payload"
    },
    {
      "index": 2,
      "type": "string",
      "value": "jest"
    },
    {
      "index": 3,
      "type": "string",
      "value": "{\"foo\":\"bar\",\"n\":42}"
    }
  ],
  "resultInfo": null
}
[2025-11-11 05:53:02.996] INFO: ðŸ—„ï¸ Connected to SQLite database
{
  "service": "pos-order-gateway-api"
}
[2025-11-11 05:53:03.040] INFO: POST /api/v1/orders
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:53:03.044] WARN: Authentication failed: Invalid API key
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "path": "/",
  "apiKeyPrefix": "test-key..."
}
[2025-11-11 05:53:03.059] ERROR: Failed to save payload: SQLITE_ERROR: no such table: saved_payloads
{
  "service": "pos-order-gateway-api",
  "errno": 1,
  "code": "SQLITE_ERROR",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads"
}
[2025-11-11 05:53:03.062] ERROR: API Error:
{
  "service": "pos-order-gateway-api",
  "error": "SQLITE_ERROR: no such table: saved_payloads",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads",
  "path": "/api/v1/payloads",
  "method": "POST",
  "ip": "::ffff:127.0.0.1",
  "body": {
    "key": "jest_sample_1762840382962",
    "description": "Jest test payload",
    "source": "jest",
    "payload": {
      "foo": "bar",
      "n": 42
    }
  }
}
[2025-11-11 05:53:03.070] INFO: POST /api/v1/orders
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:53:03.072] WARN: Authentication failed: Invalid API key
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "path": "/",
  "apiKeyPrefix": "test-key..."
}
[2025-11-11 05:53:03.097] INFO: GET /api/v1/payloads/jest_sample_1762840382962
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:53:03.100] INFO: Authentication successful
{
  "service": "pos-order-gateway-api",
  "client": "Admin Dashboard",
  "ip": "::ffff:127.0.0.1",
  "path": "/jest_sample_1762840382962"
}
[2025-11-11 05:53:03.124] ERROR: Failed to load payload: SQLITE_ERROR: no such table: saved_payloads
{
  "service": "pos-order-gateway-api",
  "errno": 1,
  "code": "SQLITE_ERROR",
  "__augmented": true,
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT id, payload_key, description, source, payload, created_at, updated_at FROM saved_payloads WHERE payload_key = ?', [ 'jest_sample_1762840382962' ], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as getByKeyOrId] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:41:35)\n    at PayloadController.getByKeyOrId (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:54:43)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5"
}
[2025-11-11 05:53:03.126] ERROR: API Error:
{
  "service": "pos-order-gateway-api",
  "error": "SQLITE_ERROR: no such table: saved_payloads",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT id, payload_key, description, source, payload, created_at, updated_at FROM saved_payloads WHERE payload_key = ?', [ 'jest_sample_1762840382962' ], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as getByKeyOrId] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:41:35)\n    at PayloadController.getByKeyOrId (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:54:43)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5",
  "path": "/api/v1/payloads/jest_sample_1762840382962",
  "method": "GET",
  "ip": "::ffff:127.0.0.1",
  "body": {}
}
[2025-11-11 05:53:03.145] INFO: GET /api/v1/payloads
{
  "service": "pos-order-gateway-api",
  "ip": "::ffff:127.0.0.1",
  "ips": [],
  "remoteAddress": "::ffff:127.0.0.1"
}
[2025-11-11 05:53:03.147] INFO: Authentication successful
{
  "service": "pos-order-gateway-api",
  "client": "Admin Dashboard",
  "ip": "::ffff:127.0.0.1",
  "path": "/"
}
[2025-11-11 05:53:03.153] ERROR: Failed to list payloads: SQLITE_ERROR: no such table: saved_payloads
{
  "service": "pos-order-gateway-api",
  "errno": 1,
  "code": "SQLITE_ERROR",
  "__augmented": true,
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT COUNT(*) as total FROM saved_payloads ', [], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as list] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:76:34)\n    at PayloadController.list (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:69:41)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5"
}
[2025-11-11 05:53:03.155] ERROR: API Error:
{
  "service": "pos-order-gateway-api",
  "error": "SQLITE_ERROR: no such table: saved_payloads",
  "stack": "Error: SQLITE_ERROR: no such table: saved_payloads\n--> in Database#all('SELECT COUNT(*) as total FROM saved_payloads ', [], [Function (anonymous)])\n    at all (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:16:8)\n    at new Promise (<anonymous>)\n    at Object.query (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\config\\database-sqlite.js:15:10)\n    at PayloadService.query [as list] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\services\\payloadService.js:76:34)\n    at PayloadController.list (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\controllers\\payloadController.js:69:41)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:68:5)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\src\\middleware\\auth.js:46:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\server.js:107:3)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at urlencodedParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\urlencoded.js:94:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at jsonParser (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\body-parser\\lib\\types\\json.js:113:7)\n    at Layer.handle [as handle_request] (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at D:\\Software\\Dmitri\\Working\\POS_Mobile\\Git\\POSSyncAgent\\API\\node_modules\\express-rate-limit\\dist\\index.cjs:691:5",
  "path": "/api/v1/payloads",
  "method": "GET",
  "ip": "::ffff:127.0.0.1",
  "body": {}
}
